webpackJsonp([4],{P8Ur:function(e,t){},k6V1:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("h0S9"),a={name:"GraphicLearn",data:function(){return{loaded:!1,isCanLearn:!1,catalogShow:!1,isFree:!1,courseInfo:{},keshiList:[],currentKeshi:{},currentPlayId:this.$route.query.chapterid,firstKeshiId:"",lastKeshiId:"",chapter:[],chapterType:null}},watch:{"$route.query.chapterid":function(e){this.currentPlayId=e,this.getCurrentKeshi(),this.playChange()}},methods:{getCurrentKeshi:function(){var e=this;this.keshiList.map(function(t){t.chapterid==e.currentPlayId&&(e.currentKeshi=t,e.$nextTick(function(){e.$refs.skContent?e.$setPreview(e.$refs.skContent):e.$refs.content&&e.$setPreview(e.$refs.content)}))})},setChapterData:function(e){var t=this;e.map(function(e){1==e.depth||2==e.depth?e.slideShow=!0:3==e.depth&&t.keshiList.push(e),e.Section?t.setChapterData(e.Section):e.keshi&&t.setChapterData(e.keshi)})},catalog:function(){var e=this;this.catalogShow=!0,this.$showMask({click:function(){e.catalogShow=!1,e.$hideMask()}})},playChange:function(){this.catalogShow=!1,this.$hideMask()},keshiRouteJump:function(e){this.$router.push({name:"GraphicLearn",params:{id:this.$route.params.id},query:{chapterid:e}})},prev:function(){var e=this,t=null;if(this.keshiList.map(function(s,i){s.chapterid==e.currentPlayId&&(t=i)}),null!==t){var s=this.keshiList[t-1];s&&this.keshiRouteJump(s.chapterid)}},next:function(){var e=this,t=null;if(this.keshiList.map(function(s,i){s.chapterid==e.currentPlayId&&(t=i)}),null!==t){var s=this.keshiList[t+1];s&&this.keshiRouteJump(s.chapterid)}}},activated:function(){var e=this;this.$showLoading(),this.loaded=!1;var t=this.$route.params.id;this.currentPlayId=this.$route.query.chapterid,Object(i.e)({id:t}).then(function(t){var s=t.courseinfo;e.courseInfo=s,1==s.iscopy&&e.$antiCopy(!0);var i=t.chapter.chapter;e.setChapterData(i),e.keshiList.length&&(e.firstKeshiId=e.keshiList[0].chapterid,e.lastKeshiId=e.keshiList[e.keshiList.length-1].chapterid),e.chapter=i,e.chapterType=t.chapter.istype,"0.00"!=s.price&&1==s.chargetype||(e.isFree=!0),"0.00"!=s.price&&1!=s.isbuy&&1==s.chargetype||(e.isCanLearn=!0),e.loaded=!0,e.$wxShare({title:s.title,desc:s.shortdesc,imgUrl:s.defaultpic}),e.getCurrentKeshi(),e.$hideLoading()})},components:{CourseCatalog:s("vFVh").a}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loaded?s("div",[s("router-link",{staticClass:"graphic-course",attrs:{to:{name:"CourseView",params:{id:e.courseInfo.courseid}},tag:"div"}},[s("i",{staticClass:"ktj-icon ktj-icon-arrow-ios-forward-outline"}),e._v(" "),s("ktj-create-bg",{staticClass:"graphic-course__img",attrs:{src:e.courseInfo.defaultpic}}),e._v(" "),s("div",{staticClass:"graphic-course-info"},[s("div",{staticClass:"graphic-course__title"},[e._v(e._s(e.courseInfo.title))]),e._v(" "),s("div",{staticClass:"graphic-course__desc"},[e._v(e._s(e.courseInfo.shortdesc))])])],1),e._v(" "),s("div",{staticClass:"graphic-info ktj-mt10"},[s("div",{staticClass:"graphic-info__title"},[e._v("\n            "+e._s(e.currentKeshi.title)+"\n        ")]),e._v(" "),s("div",{staticClass:"ktj-content ktj-mt20"},[1==e.currentKeshi.freeplay||e.isCanLearn?s("div",[s("div",{ref:"content",domProps:{innerHTML:e._s(e.currentKeshi.content)}})]):s("div",[s("div",{ref:"skContent",domProps:{innerHTML:e._s(e.currentKeshi.intro)}}),e._v(" "),s("div",{staticClass:"buy-article-tips line line-top"},[e._v("本内容需要购买之后才能阅读全文")])])])]),e._v(" "),s("store-footer"),e._v(" "),s("div",{staticClass:"graphic-footer-blank"}),e._v(" "),s("div",{staticClass:"graphic-footer line line-top"},[s("ul",[s("li",{class:e.currentPlayId==e.firstKeshiId&&"disabled",on:{click:e.prev}},[s("i",{staticClass:"ktj-icon ktj-icon-arrow-back-outline"}),e._v("上一篇")]),e._v(" "),s("li",{on:{click:e.catalog}},[e._v("目录")]),e._v(" "),s("li",{class:e.currentPlayId==e.lastKeshiId&&"disabled",on:{click:e.next}},[e._v("下一篇"),s("i",{staticClass:"ktj-icon ktj-icon-arrow-forward-outline"})])])]),e._v(" "),s("transition",{attrs:{name:"slide-in-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.catalogShow,expression:"catalogShow"}],staticClass:"graphic-catalog"},[s("div",{staticClass:"graphic-catalog__title"},[e._v("课程目录")]),e._v(" "),s("course-catalog",{staticClass:"graphic-catalog__body",attrs:{"course-type":4,"current-play-id":e.currentPlayId,"is-can-learn":e.isCanLearn,chapter:e.chapter,"chapter-type":e.chapterType}})],1)])],1):e._e()},staticRenderFns:[]};var n=s("C7Lr")(a,r,!1,function(e){s("wXik")},"data-v-31e8b196",null);t.default=n.exports},vFVh:function(e,t,s){"use strict";var i={name:"CourseCatalog",props:["chapter","chapterType","isCanLearn","currentPlayId","courseType"],methods:{play:function(e,t){1==this.courseType||3==this.courseType?this.$emit("play",e,t):2==this.courseType?location.href="/h5market/audioin?infoid="+e.courseid+"&cid="+e.chapterid:4==this.courseType&&this.$router.push({name:"GraphicLearn",params:{id:e.courseid},query:{chapterid:e.chapterid}})}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.chapter.length?s("div",[2==e.chapterType?s("div",{staticClass:"keshi-box"},e._l(e.chapter,function(t,i){return s("div",{key:i,staticClass:"keshi-item",class:e.currentPlayId==t.chapterid&&"on",on:{click:function(s){return e.play(t)}}},[e.isCanLearn||1==t.freeplay?e.isCanLearn?e._e():s("span",{staticClass:"free"},[e._v("免费")]):s("i",{staticClass:"eva-icon lock-outline"}),e._v(" "),1==e.courseType?s("span",{staticClass:"type"},[e._v("视频")]):2==e.courseType?s("span",{staticClass:"type"},[e._v("直播")]):3==e.courseType?s("span",{staticClass:"type"},[e._v("音频")]):4==e.courseType?s("span",{staticClass:"type"},[e._v("图文")]):e._e(),e._v("\n                "+e._s(t.title)+"\n            ")])}),0):s("div",e._l(e.chapter,function(t,i){return s("div",{key:i,staticClass:"chapter-box"},[s("div",{staticClass:"chapter-name",on:{click:function(e){t.slideShow=!t.slideShow}}},[s("i",{staticClass:"eva-icon arrow-ios-downward-outline",class:t.slideShow&&"arrow-up"}),e._v("\n                    "+e._s(t.title)+"\n                ")]),e._v(" "),t.Section?s("div",{directives:[{name:"show",rawName:"v-show",value:t.slideShow,expression:"item.slideShow"}],staticClass:"section-box"},e._l(t.Section,function(t,i){return s("div",{key:i,staticClass:"section-item"},[s("div",{staticClass:"section-name",on:{click:function(e){t.slideShow=!t.slideShow}}},[t.keshi&&t.keshi.length?s("i",{staticClass:"eva-icon arrow-ios-downward-outline",class:t.slideShow&&"arrow-up"}):e._e(),e._v("\n                            "+e._s(t.title)+"\n                        ")]),e._v(" "),t.keshi?s("div",{directives:[{name:"show",rawName:"v-show",value:t.slideShow,expression:"section.slideShow"}],staticClass:"keshi-box"},e._l(t.keshi,function(i,a){return s("div",{key:a,staticClass:"keshi-item",class:e.currentPlayId==i.chapterid&&"on",on:{click:function(s){return e.play(i,t)}}},[e.isCanLearn||1==i.freeplay?e.isCanLearn?e._e():s("span",{staticClass:"free"},[e._v("免费")]):s("i",{staticClass:"eva-icon lock-outline"}),e._v(" "),1==e.courseType?s("span",{staticClass:"type"},[e._v("视频")]):2==e.courseType?s("span",{staticClass:"type"},[e._v("直播")]):3==e.courseType?s("span",{staticClass:"type"},[e._v("音频")]):4==e.courseType?s("span",{staticClass:"type"},[e._v("图文")]):e._e(),e._v("\n                                "+e._s(i.title)+"\n                            ")])}),0):e._e()])}),0):t.keshi?s("div",{directives:[{name:"show",rawName:"v-show",value:t.slideShow,expression:"item.slideShow"}],staticClass:"keshi-box"},e._l(t.keshi,function(i,a){return s("div",{key:a,staticClass:"keshi-item",class:e.currentPlayId==i.chapterid&&"on",on:{click:function(s){return e.play(i,t)}}},[e.isCanLearn||1==i.freeplay?e.isCanLearn?e._e():s("span",{staticClass:"free"},[e._v("免费")]):s("i",{staticClass:"eva-icon lock-outline"}),e._v(" "),1==e.courseType?s("span",{staticClass:"type"},[e._v("视频")]):2==e.courseType?s("span",{staticClass:"type"},[e._v("直播")]):3==e.courseType?s("span",{staticClass:"type"},[e._v("音频")]):4==e.courseType?s("span",{staticClass:"type"},[e._v("图文")]):e._e(),e._v("\n                        "+e._s(i.title)+"\n                    ")])}),0):e._e()])}),0)]):s("ktj-empty",{attrs:{msg:"该课程下暂无课时～",type:"nolesson"}})],1)},staticRenderFns:[]};var r=s("C7Lr")(i,a,!1,function(e){s("P8Ur")},"data-v-1a2fdf4a",null);t.a=r.exports},wXik:function(e,t){}});