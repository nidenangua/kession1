webpackJsonp([32],{G47g:function(e,t){},nHZ7:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("vMJZ"),r={name:"UserCard",data:function(){var e=this;return{loaded:!1,selected:{price:"",other:"",offer:"",costlevel:"",id:"",effectivemonth:""},mygroup:{},groupList:[],swiperOption:{slidesPerView:1.1,centeredSlides:!0,initialSlide:null,on:{transitionEnd:function(){e.$nextTick(function(){var t=e.$refs.cardSwiper.swiper.snapIndex;e.setSelected(e.groupList[t])})}}}}},methods:{setSelected:function(e){if(1==e.type){var t=parseFloat(e.costlevel),s=parseFloat(e.discount);this.selected.other=1==e.other?"，享受其他优惠":"，不享受其他优惠",this.selected.offer="全场"+s+"折优惠",this.selected.costlevel=t?"消费额度最高"+t+"元，超出后不享受该优惠":"不限消费额度"}else 2==e.type&&(this.selected.offer="全站免费",this.selected.other="",this.selected.costlevel="不限消费额度");this.selected.hasbuy=e.hasbuy,this.selected.effectivemonth=e.effectivemonth,this.selected.id=e.id,this.selected.price=e.price},cardPay:function(){this.$showPay({payid:this.selected.id,price:this.selected.price,msg:"购买会员卡",type:"vipCard"})}},activated:function(){var e=this;this.$showLoading(),this.loaded=!1,document.title="我的会员卡";var t=this.$route.query.id;Object(i.m)({p:1,maxperpage:100}).then(function(s){if(s.grouplist.length){var i=void 0;s.grouplist.map(function(e,s){e.id==t&&(i=s)}),i||(i=0),e.swiperOption.initialSlide=i,e.groupList=s.grouplist,e.setSelected(s.grouplist[i])}s.mygroup&&(e.mygroup=s.mygroup),e.loaded=!0,e.$hideLoading()})}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loaded?s("div",[e.groupList.length?s("div",[s("ktj-swiper",{ref:"cardSwiper",staticClass:"card-swiper",attrs:{options:e.swiperOption}},e._l(e.groupList,function(t,i){return s("ktj-swiper-slide",{key:i},[s("div",{staticClass:"card-item",class:2==t.type&&"card-gold-item"},[1==t.hasbuy?s("div",{staticClass:"card-item__have"}):e._e(),e._v(" "),1==t.other?s("div",{staticClass:"discount",class:1==t.hasbuy&&"discount__have"},[e._v("*享受其他优惠")]):s("div",{staticClass:"discount",class:1==t.hasbuy&&"discount__have"},[e._v("*不享受其他优惠")]),e._v(" "),s("div",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),1==t.hasbuy?s("div",{staticClass:"price"},[e._v("\n                        "+e._s(e.selected.offer)),s("br"),e._v("\n                        有效期至："+e._s(t.expiretime)+"\n                    ")]):s("div",{staticClass:"price"},[e._v("\n                        "+e._s(e.selected.offer)),s("br"),e._v("\n                        ￥"+e._s(t.price)+"/ "+e._s(t.effectivemonth)+"个月\n                    ")])])])}),1),e._v(" "),s("div",{staticClass:"card-intro"},[s("h4",[e._v("会员卡简介：")]),e._v(" "),s("div",{staticClass:"intro"},[e._v("\n                1、购买该卡后，有效期为"+e._s(e.selected.effectivemonth)+"个月"),s("br"),e._v("\n                2、该会员卡享"+e._s(e.selected.offer)+e._s(e.selected.other)),s("br"),e._v("\n                3、使用该卡"+e._s(e.selected.costlevel)+"\n               \n            ")])]),e._v(" "),s("div",{staticClass:"card-button-footer"},[s("ktj-button",{staticClass:"card-button",attrs:{type:1==e.selected.hasbuy?"success":"primary",width:"100%"},on:{click:e.cardPay}},[e._v(e._s(1==e.selected.hasbuy?"立即续费":"立即开通")+"（¥"+e._s(e.selected.price)+"）")])],1)],1):e.loaded?s("ktj-empty",{attrs:{msg:"没有找到会员卡～"}}):e._e()],1):e._e()},staticRenderFns:[]};var a=s("C7Lr")(r,c,!1,function(e){s("G47g")},"data-v-42ea5360",null);t.default=a.exports}});